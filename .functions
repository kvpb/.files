#!/bin/bash

RemoveDSStore ()
{
	find . -name '.DS_Store' -delete -print
} # `RemoveDSStore` '.DS_Store remover'
# Find from current directory file named '.DS_Store', remove it, and display the full file name of the standard output followed by a newline.

ResetLaunchPad ()
{
	defaults write com.apple.dock ResetLaunchPad -bool true && killall Dock
} # `ResetLaunchPad` 'Reset LaunchPad'
# Reset LaunchPad layout.

tarall ()
{
	local	PREFIX=$1
	local	SUFFIX=$2

	find * -maxdepth 0 -type d -exec tar cvf $PREFIX{}$SUFFIX.tar {} \;
} # `tarall`
# Create a new tape archive for each of the working directory's subdirectories.

dcal ()
{
	date | grep -C6 --color "\b$(date +%e)\b" && cal | sed -n "1!p" | grep -C6 --color "\b$(date +%e)\b"
} # `dcal` 'Dated calendar'
# Display a calendar, substitute month of year with current date in full format, and highlight current day of month.

cls ()
{
	clear && printf '\e[3J'
} # `cls` 'MS-DOS, OS/2 & Microsoft Windows CLS'
# Clear the terminal screen if this is possible, then write the VT100 escape code for resetting the terminal to the standard output under the control of the format.

systemsoftwareupdate ()
{
	sudo softwareupdate -i -a
	brew update && brew upgrade && brew cleanup
	sudo gem update --system && sudo gem update && sudo gem cleanup
} # `systemsoftwareupdate` 'System software update'
# List all available updates, and install them ; fetch the newest version of Homebrew, upgrade outdated, unpinned brews, and remove any installed formulae older version from the cellar ; update installed gems to the latest versions, and clean up old versions of installed gems.

#addmissingNLatEOF ()
add_missing_NL_at_EOF ()
{
	sed -i '' -e '$a\'
} # `add_missing_NL_at_EOF` 'Add missing newline at end of file', from Victor Engmark `l0b0`'s `empty_line_before_eof` (https://github.com/l0b0/tilde/blob/e7ccc9a6a3aba2b0216c8e5141554e8a729389ec/.bash_aliases#L474)
# Insert a newline after pre-end of file line if that latter is not empty.

RemoveExtendedAttributes () {
	xattr -rc .
} # `RemoveExtendedAttributes`
# Remove any and all files' extended attributes from current directory.

#alias
#as ()
#FinderAlias
#MakeAlias
#mkalias
#aka ()
mkas ()
{
	Location=$(\pwd)
	#$source=$1
	#$file=S1
	File=$1
	#$destination=$2
	#$target=$2
	#$directory=$2
	Folder=$2

	#osascript -e "tell application \"Finder\" to make alias file to (POSIX file \"${File//\"/\\\"}\") at (POSIX file \"${Folder//\"/\\\"}\")" # (i) This requires two absolute paths.
	#osascript -e "tell application \"Finder\" to make alias file to (POSIX file \"${Location}/${File//\"/\\\"}\") at (POSIX file \"${Location}/${Folder//\"/\\\"}\")" # (i) This requires two short relative from current working directory paths.
	if [[ "${File}" == /* ]] && [[ "${Folder}" == /* ]]
	then
		osascript -e "tell application \"Finder\" to make alias file to (POSIX file \"${File//\"/\\\"}\") at (POSIX file \"${Folder//\"/\\\"}\")" -e 'return'
	elif [[ "${File}" == /* ]] && [[ ! "${Folder}" == /* ]]
	then
		osascript -e "tell application \"Finder\" to make alias file to (POSIX file \"${File//\"/\\\"}\") at (POSIX file \"${Location}/${Folder//\"/\\\"}\")" -e 'return'
	elif [[ ! "${File}" == /* ]] && [[ "${Folder}" == /* ]]
	then
		osascript -e "tell application \"Finder\" to make alias file to (POSIX file \"${Location}/${File//\"/\\\"}\") at (POSIX file \"${Folder//\"/\\\"}\")" -e 'return'
	elif [[ ! "${File}" == /* ]] && [[ ! "${Folder}" == /* ]]
	then
		osascript -e "tell application \"Finder\" to make alias file to (POSIX file \"${Location}/${File//\"/\\\"}\") at (POSIX file \"${Location}/${Folder//\"/\\\"}\")" -e 'return'
	fi
} # `MakeFinderAlias`
# Make Finder aliases [2018.04.18, 17:04:00 : Ça doit être la shell function la plus dégueulasse que j'ai écrit. It doesn't handle any and all relative paths. I don't care anyway. I've been jacking with this stuff almost all afternoon.]
